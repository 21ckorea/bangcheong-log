




<!doctype html>
<html lang="ko">
<head>
<title>방청객 모집</title>

<meta charset="UTF-8">
<meta http-equiv="content-type" content="text/html; charset=utf-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=Edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=yes" />
<meta name="format-detection" content="telephone=no"/>
<meta name="apple-mobile-web-app-capable" content="yes"/>
<link rel="shortcut icon" href="/res/img/favicon.png" type="image/x-icon">
<meta name="theme-color" content="#E41E26">
<meta name="apple-mobile-web-app-status-bar-style" content="#E41E26">
<link rel="stylesheet" href="//img.tvchosun.com/res/css/style.css?v=20250812">
<script src="//img.tvchosun.com/res/lib/jquery-2.2.4.min.js"></script>
<script src="//img.tvchosun.com/res/lib/jquery-ui.js"></script>
<link rel="stylesheet" href="//img.tvchosun.com/res/lib/jquery-ui.css">
<script src="//img.tvchosun.com/res/js/slider.js"></script>
<script src="//img.tvchosun.com/res/js/ui.js"></script>
<script src="//img.tvchosun.com/res/js/item.js"></script>
<script src="//img.tvchosun.com/res/js/bookmark.js"></script>
<script src="//img.tvchosun.com/res/lib/youtube.api.js"></script>
<script src="//img.tvchosun.com/res/js/pulltorefresh.js"></script>

<script type="text/javascript">
	function detectDeviceType(userAgent) {
	    let osType = "";
	
	    if (/Android/i.test(userAgent)) {
	        osType = "Android";
	    } else if (/iPhone|iPad|iPod/i.test(userAgent)) {
	        osType = "iOS";
	    } else {
	        osType = "Unknown OS";
	    }
	
	    if (/TVChosunAPP/i.test(userAgent)) {
	        if (/Cast/i.test(userAgent)) {
	            return `App (Cast) - `;
	        } else if (/News/i.test(userAgent)) {
	            return `App (News) - `;
	        }
	        return `App (Unknown) - `;
	    } else {
	        if (/Mobi|Android/i.test(userAgent)) {
	            return `Mobile ()`;
	        } else {
	            return "PC";
	        }
	    }
	}
	
	function detectDeviceType2(userAgent) {
		if (/TVChosunAPP/i.test(userAgent)) {
	        return "Mobile_App";
	    } else {
	        if (/Mobi|Android|iPhone|iPad|iPod/i.test(userAgent)) {
	            return "Mobile_Web";
	        } else {
	            return "PC_Web";
	        }
	    }
	}

    var crm_encodekey2 = "";
    var crm_email2 = "";
    var crm_name2 = "";
    var crm_key2 = "";
    var crm_grade2 = "";
    var social2 = "";
    var crm_gender2 = "";
    var crm_age2 = "";
    var crm_vod_right2 = "";
    var userAgent2 = navigator.userAgent;
    var agentType2 = detectDeviceType(userAgent2);
    var agentType3 = detectDeviceType2(userAgent2);

    // Google Tag Managerì© dataLayer ì¸í
    window.dataLayer = window.dataLayer || [];
    window.dataLayer = [{
        is_login: crm_encodekey2 ? "Y" : "N",
        custom_user_id: crm_encodekey2 || "",
        platform_type: agentType3,
        method: social2 || "TVChosun",
        user_gender: crm_gender2 || "unknown",
        user_age: crm_age2 || "unknown",
        subscription_type: crm_vod_right2 ? "Y" : "N"
    }];
</script>
<script>
<!-- Google Tag Manager -->
(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
	new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
	j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
	'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode
	.insertBefore(j,f);
	})(window,document,'script','dataLayer','GTM-TK5NBSCX');
</script>

<script async src="https://d1s87id6169zda.cloudfront.net/js/prebid/tvchosun/tvchosun_pb.js"></script>
<script async src="https://securepubads.g.doubleclick.net/tag/js/gpt.js"></script>

 
<link rel="image_src" href="//img.tvchosun.com/upload_img/broad_image/2025120313354228414785616445793.jpg" />
<link rel="stylesheet" type="text/css" href="//img.tvchosun.com/upload_img/n2017/css/swiper.min.css" />
<script type="text/javascript" src='//img.tvchosun.com/upload_img/n2017/js/bookmark.js'></script>
<script type="text/javascript" src="//connect.facebook.net/en_US/all.js"></script>
<!----------------- ST ----------------->
<script type="text/javascript" src='//img.tvchosun.com/upload_img/n2017/js/jquery.cookie.js'></script>
<script type="text/javascript" src='//img.tvchosun.com/upload_img/n2017/js/json2.min.js'></script>
<!-- ST --> 
<!-- <link rel="stylesheet" href="/css/skin.css"> -->
<!-- <link rel="stylesheet" href="/css/flowplayer.customizing.all_in_one.css"> -->
<script type="text/javascript" src='//img.tvchosun.com/upload_img/n2017/js/flowplayer.min.js'></script>
<script type="text/javascript" src='//img.tvchosun.com/upload_img/n2017/js/flowplayer.hlsjs.min.js'></script>
<script type="text/javascript" src='//img.tvchosun.com/upload_img/n2017/js/flowplayer.customizing.all_in_one.js'></script>
 
<!-- ST CSS -->
<!-- <script type="text/javascript" src='//img.tvchosun.com/upload_img/n2017/js/stc.css.js'></script> -->

<meta property="og:title" content="미스트롯4 본선 3차 방청객 모집 안내"/>
<meta property="og:image" content="//img.tvchosun.com/upload_img/broad_image/2025120313354228414785616445793.jpg"/>
</head>
<body>
	<input id="mobile_title" type="hidden" value="미스트롯4">
<!-- skip menu -->
<!-- <script type="text/javascript" src='//img.tvchosun.com/upload_img/n2017/js/skip_navi.js'></script> -->
<!--//skip menu -->
 
<section id="ui_wrap" class="tv">
    	
    		
    		
		        <script type="text/javascript" src='//img.tvchosun.com/res/inc/gnb.js'></script>
		        <script type="text/javascript" src='//img.tvchosun.com/res/inc/search.js'></script>    		
    		
    	
        <section id="ui_body" class="program-n">
            <article id="ui_contents">
                


<div class="program-view-info">

	

    <div class="img-box">
        <img src="//img.tvchosun.com/upload_img/broad_image/2025120313354228414785616445793.jpg" alt="미스트롯4" class="img-pc" />
        <img src="//img.tvchosun.com/upload_img/broad_image/2025120314020928416373098147647.jpg" alt="미스트롯4" class="img-mob"/>
    </div>
    <div class="txt-box">
        <div class="badge-box">
             
			  
			    
			                        
            
        </div>
        <div class="title">
            <h3 class="title" style="color:#ffffff;">미스트롯4</h3>
        </div>
        <div class="desc">
        	
		    
		    
		    <!-- 중복 코드 변수로 설정 -->
		    
		    
		
		    <!-- style과 채널 이름을 공통으로 출력 -->
		    <div>
		        
		            
		            
		                <p style="color:#ffffff;">
		                      목요일 밤 10시
		                </p>
		            
		        
		    </div>
		

        </div>
        <div class="sns">
            <div class="item-btn">
                <a href="/broadcast/program/2/C202500100.cstv" class="ico home" title="홈으로 이동"><span class="blind">홈</span></a>
            </div>
            <div class="item-btn">
                <a href="javascript:;" class="ico scrap" onclick="fncScrap(this);" title="스크랩"><span class="blind">스크랩</span></a>
            </div>
            <div class="item-btn tooltip-box">
                <a href="javascript:;" class="ico share" onclick="itemFn.tooltipOpen(this);" title="공유하기"><span class="blind">공유</span></a>
                <div class="tooltip-item share-box">
                    <div class="title-box">
                        <strong>공유</strong>
                        <a href="javascript:;" class="item-close"><span class="blind">닫기</span></a>
                    </div>
                    <ul>
                        <li><button type="button" title="카카오톡 공유" class="kakao" id="share_kakao">카카오톡</button></li>
                        <li><button type="button" title="페이스북 공유" class="facebook" id="share_facebook">페이스북</button></li>
                        <li><button type="button" title="X 공유" class="x" id="share_twitter">트위터</button></li>
                        <li><button type="button" title="URL 복사" class="copy" onclick="itemFn.linkCopy();">URL 복사</button></li>
                    </ul>
                </div>
            </div>
            
            
	            <div class="item-btn">
	                <a href="#" onclick="openBrowser('https://tv.naver.com/tvchosun.misstrot4', this)" class="ico naverTV" title="네이버TV"><span class="blind">네이버TV</span></a>
	            </div>
            
            
            
            <div class="item-btn">
                <a href="#" onclick="openBrowser('https://tv.kakao.com/channel/10205071/video', this)" class="ico kakaoTV" title="카카오TV"><span class="blind">카카오TV</span></a>
            </div>
            
            
            
            
            

            

            

            
      
        </div>
    </div>
</div>

<script type="text/javascript">

var loginCheck = 'false';

$(document).ready(function (){
	if(loginCheck == "true") {
		checkBookMark();
	}
});

// Facebook SDK 초기화
window.fbAsyncInit = function() {
    FB.init({
        appId      : '537297732963876',  // 앱 ID
        cookie     : true,            	 // 쿠키 사용 여부
        xfbml      : true,            	 // XFBML 파싱 여부
        version    : 'v17.0'          	 // Facebook Graph API 버전
    });
};

// Facebook SDK 로드
(function(d, s, id){
    var js, fjs = d.getElementsByTagName(s)[0];
    if (d.getElementById(id)) {return;}
    js = d.createElement(s); js.id = id;
    js.src = "https://connect.facebook.net/en_US/sdk.js";
    fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));

// Facebook에 콘텐츠 공유하기
function shareToFacebook(url) {	
	if(loginCheck == "true") {
	    FB.ui({
	        method: 'feed', // 공유 기능 호출
	        href: url      // 공유할 URL        
	    }, function(response) {
	        if (response && !response.error_message) {
	            alert('공유 성공!');
	        } else {
	            alert('공유 실패!');
	        }
	    });			
	} else {
		if(confirm("TV CHOSUN 회원 로그인 하신 후 이용하실 수 있습니다.\n\n로그인 페이지로 이동합니다.")){
			loginPageReturn('tvchosun');		
		}		
	}
}

function shareToW(url, title) {	
	if(loginCheck == "true") {
	    // URL과 텍스트를 URL 인코딩
	    const encodedUrl = encodeURIComponent(url);
	    const encodedText = encodeURIComponent(title);    
	    // 트위터 공유 URL 만들기
	    const twitterUrl = `https://twitter.com/intent/tweet?url=&text=`;    
	    // 새로운 창으로 트위터 공유 다이얼로그 열기
	    window.open(twitterUrl, '_blank', 'width=550,height=420');		
	} else {
		if(confirm("TV CHOSUN 회원 로그인 하신 후 이용하실 수 있습니다.\n\n로그인 페이지로 이동합니다.")){
			loginPageReturn('tvchosun');
		}
	}
}

function shareToKakao(url) {
	
	if(loginCheck == "true") {
		/*
	    Kakao.Link.sendDefault({
	        objectType: 'feed',  // 공유 메시지 형태 (피드 형식)
	        content: {
	            title: '이 웹사이트 정말 좋아요!',  // 제목
	            description: '이 페이지는 카카오톡으로 쉽게 공유할 수 있어요.',  // 설명
	            imageUrl: 'https://example.com/image.jpg',  // 이미지 URL
	            link: {
	                mobileWebUrl: 'https://example.com',  // 모바일 웹 URL
	                webUrl: 'https://example.com'  // PC 웹 URL
	            }
	        },
	        buttons: [
	            {
	                title: '웹사이트 방문하기',  // 버튼 제목
	                link: {
	                    mobileWebUrl: 'https://example.com',  // 모바일 웹 URL
	                    webUrl: 'https://example.com'  // PC 웹 URL
	                }
	            }
	        ]
	    });	
		*/
	} else {
		if(confirm("로그인 후 이용 가능합니다. 로그인 하시겠습니까?")){
			loginPageReturn('tvchosun');		
		}		
	}
}

function checkBookMark() {
	$.ajax({	
		url: '/bookmark/P/C202500100/check.cstv'
		 ,dataType: "json"
		 ,success: function(result){
			if(result.code == 1) {
				$(".ico.scrap").addClass("on");
			}
		}
	});
}

function fncScrap(e){
	var info = '세상을 홀리고 천하를 평정하라! 미스트롯 시즌4 여인천하: 세상을 홀리는 여자들';
	if(100<info.length) info = info.substring(0,100)+' ...';
	var target = {
		"m_type" : "P",
		"title" : '미스트롯4',
		"t_id" : "C202500100",
		"info" : info,		
		"tag1" : "프로그램",
		"tag2" : "프로그램",
		"img" : '//img.tvchosun.com/upload_img/broad_image/2025120314020928416373098147647.jpg',
		"prog_id" : "C202500100"
	};
	
	console.log(loginCheck);
	if(loginCheck == "true") {
		bookmark.check(e, target);
	} else {
		if(confirm("로그인 후 이용 가능합니다. 로그인 하시겠습니까?")){
			loginPageReturn('tvchosun');	
		}
	}
}

</script>
                <div class="line_map-menu">
<ul class="depth2">
<li class=""><a href="/broadcast/program/2/C202500100.cstv" >프로그램 홈</a></li>
<li class=""><a href="/broadcast/program/2/C202500100/introduce/11593.cstv" >프로그램 소개</a></li>
<li class=""><a href="/broadcast/program/2/C202500100/bbs/11610/C202500100_8/list.cstv" >참가자 소개</a></li>
<li class=""><a href="/broadcast/program/2/C202500100/bbs/11613/C202500100_9/list.cstv" >참가자 소개 영상</a></li>
<li><a href="javascript:;" onclick="itemFn.dropDown(this);" >방송보기<span class='arrow'></span></a>
 <ul class="depth3">
<li class=""><a href="/broadcast/program/2/C202500100/preview/list.cstv" >예고편</a></li>
<li class=""><a href="/broadcast/program/2/C202500100/scene/list.cstv" >방송클립</a></li>
<li class=""><a href="/broadcast/program/2/C202500100/vod.cstv" >다시보기</a></li>
<li class=""><a href="/broadcast/program/2/C202500100/youtube/yList.cstv" >유튜브</a></li>
</ul>
</li>
<li class=""><a href="/broadcast/program/2/C202500100/bbs/11555/C202500100_5/list.cstv" >시청소감</a></li>
<li class=""><a href="/broadcast/program/2/C202500100/bbs/11600/C202500100_7/list.cstv" >방청객 모집</a></li>
</ul>
</div>
                <section class="page_view">
                    <div class="section-inner">
                        <div class="comm-page-title line">
                            <h3 class="htitle">방청객 모집</h3>
                        </div>
                        <div class="comm-board">
                            <div class="board-view">
                                <div class="title-box">
                                    <h3 class="tit">미스트롯4 본선 3차 방청객 모집 안내</h3>
                                    <div class="flex-box between">
                                        <div class="info">
                                            <span class="name">관*자</span>
                                            <span>2025.12.23</span>
                                        </div>
                                        <div class="share-group tooltip-box">
                                        
                                            <button type="button" class="print" onclick="window.print();"><span class="blind">프린트</span></button>
                                            <button type="button" class="share" onclick="itemFn.tooltipOpen(this);"><span class="blind">공유</span></button>
                                            <div class="tooltip-item share-box">
                                                <div class="title-box">
                                                    <strong>공유</strong>
                                                    <a href="javascript:;" class="item-close"><span class="blind">닫기</span></a>
                                                </div>
                                                <ul>
                                                    <li><button type="button"  title="카카오톡 공유" class="kakao">카카오톡</button></li>
                                                    <li><button type="button" id="facebook" title="페이스북 공유" class="facebook">페이스북</button></li>
                                                    <li><button type="button" id="twitter" title="X 공유" class="x">트위터</button></li>
                                                    <li><button type="button" title="URL 복사" class="copy" onclick="itemFn.linkCopy();">URL 복사</button></li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="cont-box">
									<div style="line-height: 1.8;"><span style="font-size: 14pt;">세상을 홀리고 천하를 평정하라!</span></div><div style="line-height: 1.8;"><span style="font-size: 14pt;">&lt;미스트롯4&gt; 여인천하: 세상을 홀리는 여자들!</span></div><div><br></div><div style="line-height: 1.8;"><span style="font-size: 14pt;">더 화끈하게! 더 독하게! 돌아온</span></div><div style="line-height: 1.8;"><span style="font-size: 14pt;">트롯걸들의 라이브 무대를 생생하게 느낄 기회!</span></div><div style="line-height: 1.8;"><span style="font-size: 14pt;">열정 가득한 &lt;미스트롯4&gt;의 무대를 함께할 관객을 모십니다!</span></div><div><br></div><div style="line-height: 1.8;"><span style="font-size: 14pt;">———————————————————————————————</span></div><div style="line-height: 1.8;"><span style="font-size: 14pt;">◎ 녹화 일시 : 2026년 1월 13일(화)</span></div><div style="line-height: 1.8;"><span style="font-size: 14pt;">*정확한 녹화 시간은 당첨자분들께 전화로 개별 공지 드립니다.</span></div><div><br></div><div style="line-height: 1.8;"><span style="font-size: 14pt;">◎ 녹화 장소 : TV조선 가산동 스튜디오 (서울특별시 금천구 가산동 535-47)</span></div><div><br></div><div style="line-height: 1.8;"><span style="font-size: 14pt;">◎ 당첨 수량 : 1인 2매</span></div><div><br></div><div style="line-height: 1.8;"><span style="font-size: 14pt;">◎ 신청 기간 : 2025년 12월 25일(목) ~ 2026년 1월 6일(화) (13일간)</span></div><div><br></div><div style="line-height: 1.8;"><span style="font-size: 14pt;">◎ 당첨자 발표 : 2026년 1월 8일(목) ~ 1월 9일(금)</span></div><div style="line-height: 1.8;"><span style="font-size: 14pt;">* 당첨되신 분에 한해 양일 동안 개별적으로 연락드립니다.</span></div><div style="line-height: 1.8;"><span style="font-size: 14pt;">&nbsp;(선정되지 않은 분들에게는 별도 연락을 드리지 않습니다. 양해 바랍니다)</span></div><div><br></div><div style="line-height: 1.8;"><span style="font-size: 14pt;">◎ 안내 문자 발송 : 2026년 1월 10일(토)</span></div><div><br></div><div style="line-height: 1.8;"><span style="font-size: 14pt;">※ 선정된 관객분 중에 현장에서 추첨을 통해 썬크루즈호텔&amp;리조트 숙박권을 드립니다!</span></div><div><br></div><div style="line-height: 1.8;"><span style="font-size: 14pt;">———————————————————————————————</span></div><div style="line-height: 1.8;"><span style="font-size: 14pt;">&lt;미스트롯4&gt; 방청을 희망하시는 분은 아래 ‘방청단 신청하기’를 눌러 양식을 작성해 주세요</span></div><div><br></div><div style="line-height: 1.8;"><span style="font-size: 14pt;">&gt;&gt; 방청단 신청하기 네이버 폼 링크: <a href="https://naver.me/FZ8TpLr2" target="_blank">https://naver.me/FZ8TpLr2</a></span></div><div style="line-height: 1.8;"><span style="font-size: 14pt;">———————————————————————————————</span></div><div style="line-height: 1.8;"><span style="font-size: 14pt;">[참고 및 주의 사항]</span></div><div><br></div><div style="line-height: 1.8;"><span style="font-size: 14pt;">* 신청 링크 폼을 통한 접수만 허용됩니다. (게시판, 댓글을 통한 접수는 제외)</span></div><div style="line-height: 1.8;"><span style="font-size: 14pt;">* 특정 팬덤 색의 의상 또는 응원 도구 사용 불가</span></div><div style="line-height: 1.8;"><span style="font-size: 14pt;">* 방청 시 드레스 코드 지정이 있을 수 있으며, 당첨자에 한해 별도 안내해 드립니다.</span></div><div style="line-height: 1.8;"><span style="font-size: 14pt;">* 지참물 : 본인 확인을 위한 신분증/ 안내 문자</span></div><div style="line-height: 1.8;"><span style="font-size: 14pt;">* 당첨자 외 입장 불가 / 방청권 양도 불가</span></div><div style="line-height: 1.8;"><span style="font-size: 14pt;">* 미성년자는 입장 불가 (보호자 동반해도 입장 불가하니 양해 부탁드립니다.)</span></div><div style="line-height: 1.8;"><span style="font-size: 14pt;">* 본인 확인 및 방청 동의서 작성 후 티켓 발부 &amp; 촬영 금지 스티커 지급&nbsp;</span></div><div style="line-height: 1.8;"><span style="font-size: 14pt;">* 녹화 중 이동 / 사진 촬영 / 녹음 불가 (방송 전 스포일러 금지)</span></div><div style="line-height: 1.8;"><span style="font-size: 14pt;">* 입장 시간이 지나면 입장이 제한될 수 있습니다.</span></div><div style="line-height: 1.8;"><span style="font-size: 14pt;">* 안전한 관람을 위해 실내에서는 물, 커피, 이온 음료 등(*뚜껑 있는 제품)외 취식 금지</span></div><div><br></div><div style="line-height: 1.8;"><span style="font-size: 14pt;">* 위 내용을 숙지하지 않아 발생하는 불이익은 &lt;미스트롯4&gt;에서 책임지지 않사오니, 꼼꼼히 읽어주시고 참석 부탁드립니다.</span></div><div style="line-height: 1.8;"><span style="font-size: 14pt;">* 중복 참여는 불가합니다.</span></div>
                                </div>
                                

                                
                            </div>
                        </div>
                        
                        <div class="btn-group between">
                         	<div class="btn-right-box">
                            	<button type="button" class="btn bold" onclick="location.href='/broadcast/program/2/C202500100/bbs/11600/C202500100_7/list.cstv?search_text='">목록</button>
                            </div>
                            
                            
                            
                    		
	                            
	                            
                            
                            <div class="btn-left-box">
                            	
                            	
                            	                            	                            	
                            </div>
                        </div>
                       
                        
                        <!-- 
                        	                        
	                        <div class="null-content reply">
	                            <p class="desc">댓글을 등록할 수 없는 프로그램입니다.</p>
	                        </div>                     
                        
                         -->
                    </div>
                </section>
            </article>
            
            <!-- 신고하기 팝업 -->
            <form name="unsoundFrm">
            <div id="reportPopup" class="comm-popup type-medium">
                <div class="inner-wrap">
                    <div class="title-box line">
                        <strong class="title">신고하기</strong>
                        <button class="closeBtn" type="button" title="닫기" onclick="uiFn.layerPopup('#reportPopup');"></button>
                    </div>
                    <h3 class="stitle">신고사유를 선택해주세요</h3>
                    <div class="form-box mini">
                        <div class="input-box">
                            <p class="title">신고 사유<span class="essential">*</span></p>
                            <div class="comm-select">
                                <select name="reasonType" id="unregi-reason">
                                    <option value="r0" disabled hidden selected>신고사유 선택</option>
                                    <option value="r1">불법물 홍보</option>
									<option value="r2">동일 내용의 게시글/댓글 반복(도배)</option>
									<option value="r3">특정인 대상의 비방/욕설</option>
									<option value="r4">음란성 또는 청소년에게 부적합한 내용</option>
									<option value="r5">서비스 취지(성격)에 맞지 않음</option>
									<option value="r6">명예훼손 관련 게시물</option>
									<option value="r7">저작권 관련 게시물</option>
									<option value="r8">기타</option>
                                </select>
                            </div>
                        </div>
                        <div class="input-box">
                        	<div class="textarea-wrap">
                            	<textarea type="textarea" name="content" id="content" placeholder="신고사유설명이 추가로 필요하실 경우에만 작성해주세요" value="" maxlength="1000" class="form-ele"></textarea>
                            </div>
                        </div>
                    </div>
                    <div class="btn-group">
                        <button type="button" data-userid="zero9712" class="btn full bk close" onclick="unsound_save()">확인</button>
                    </div>
                </div>
            </div>
            	<input type="hidden" name="type" id="cmt_type" value="" />
				<input type="hidden" name="bbsNo" id="unsound_bbsno" value="C202500100_7" />
				<input type="hidden" name="contID" id="unsound_contid" value="705835" />
				<input type="hidden" name="block_user_id" id="block_user_id" value="zero9712" />
				<div id="only_comm_unsound"></div>
			</form>
			
            <form id="listFrm" name="listFrm" method="post" action="/broadcast/program/2/C202500100/bbs/11600/C202500100_7/705835.cstv">
				<input type="hidden" name="contid">
				<input type="hidden" name="bbsno">
				<input type="hidden" name="myComm" value="">
				<input type="hidden" name="commOrder" id="commOrder">
			</form>
				
        </section>

    
    	
    	
		    <script type="text/javascript" src='//img.tvchosun.com/res/inc/footer.js'></script>    		    
    	
    
        <script type="text/javascript" src="//img.tvchosun.com/res/inc/common.js"></script>
        <script src="https://developers.kakao.com/sdk/js/kakao.js"></script>
    </section>
</body>
<script type="text/javascript">
/*
function player_run(url) {
	vodImg="";
	if(""!="")
		vodImg = location.protocol + "//nbbs.tvchosun.com/data/bbs/"+"C202500100_7"+"/"+"";
	
	playtime = "0";
	player.use_advertisement = true;
	player.hidden_control_config = true;
	player.hidden_control_movie = true;
	player.hidden_control_popup = true;
	player.auto_next = false;
	player.auto_play = false;
	player.minimum = false;
	player.play(
		url ,{
			//"ip" : "211.178.130.91",
			//"section" : "",
			//"programid" : "C202500100",
			//"clipid" : "",
			//"contentnumber" : contentnumber,
			"isonair" : "",
			"ispay" : "N",
			"vodtype" : "F",
			//"broaddate" : broaddate,
			"playtime" : parseInt(playtime),
			"adtype" : "PRE",
		}
		,vodImg
		,""
		,false
	);	
}
*/

$(function() {
	if(""!=""){		
		var obj = {};
		obj.autoplay = false; // 자동 플레이 (광고가 없을 때)
		obj.preview = "https://nbbs.tvchosun.com/data/"; // 미리보기 이미지
		// obj.videosrc = "//nvod3.tvchosun.com/vod/_definst_/mp4:"+""+"/playlist.m3u8";	// CDN변경 202503
		obj.videosrc = "//svod.tvchosun.com/hls/Vjy1GWH4H30BbIaPwmY4vg__/tvchosun/"+""+"/index.m3u8";
		obj.cuetitle = "";
		obj.subtitles = "";
		obj.prevvideo = false;
		obj.nextvideo = false;
		obj.wideview = false; // wideview : 화면 와이드 크기 조절 ( 우선 삭제 기능 필요시 추가 "false" 고정 )
		obj.pipview = false; //  PIP 기능 여부 ( 우선 삭제 기능 필요시 추가 "false" 고정 )
		obj.offer = false; // 영상 종료 후 추천 영상 화면 노출 여부
		obj.minute = false; // 3분 미리보기 구매 유도 화면 노출 여부
        obj.muted = false; // false (볼륨 100%) , true (볼륨 0%)
        obj.onAir= false; // 온에어 정주행 라이브 방송시 옵션값 true			
		obj.adPlay= false;
		obj.tracking= false;
		obj.ad = false;
		cbpVideoFn.videoPlayerRun(obj);
		// player_run("//nvod3.tvchosun.com/vod/_definst_/mp4:"+""+"/playlist.m3u8");	// CDN변경 202503
		// player_run("//svod.tvchosun.com/hls/Vjy1GWH4H30BbIaPwmY4vg__/tvchosun/"+""+"/index.m3u8");
	}
});

$(document).ready(function() {
	// 댓글 초기화
	init_comment();
	// 댓글 액션
	init_event();
	// sns공유
	sns_event();	
	
	//댓글 탭일 경우
    if("" === 'reply'){
		$('.tab-comments').trigger('click');
		
		let commid = "0";

		// 스크롤 이동
		if(commid != null && commid != '0'){
			document.querySelector('#cont_'+commid).scrollIntoView({ behavior: 'smooth', block: 'start' });
			comm_child(commid, 1);
		}else{
			document.querySelector('#reply-list').scrollIntoView({ behavior: 'smooth', block: 'start' });
		}
	}
	
	if("false" === "true"){
		//로그인 되어 있을 때
		//document.getElementById('btnReg').classList.add('active');
	}else{
		//로그인 안되어 있을 때
		document.getElementById('btnReg').classList.remove('active');
	}
	
});
function del_cont() {
	if(confirm("삭제하시겠습니까?")){
		var virno = '002xcR~';
		var v_depth = '1';
		var bbsno = 'C202500100_7';
		var contid = '705835';
		
		$.ajax({
			url : "/broadcast/program/bbs/C202500100_7/705835/delete.cstv",
			type : "POST",
			data : {virno: virno, v_depth: v_depth, contid: contid, bbsno: bbsno},
			success : function(result){
				if(result > 0) {
					alert("삭제되었습니다.");
				} else {
					alert("삭제에 실패하였습니다.");
				}
				location.href="/broadcast/program/2/C202500100/bbs/11600/C202500100_7/list.cstv";
			}
		});
	}
}

/*///////////////////////////////////////////////////////////   댓글    ///////////////////////////////////////////////// */

function init_comment() {
	//댓글 정렬
	var commOrder = '';
	if(commOrder == 'old') {
		$(".comm-tab li.new").addClass('active');
		$(".comm-tab li.agree").removeClass('active');
	} else if(commOrder == 'mostRecomm') {
		$(".comm-tab li.new").removeClass('active');
		$(".comm-tab li.agree").addClass('active');
	}
	
}
function init_event() {
	// 댓글 자동입력
	$('.cmt_ra').change(function() {
		var text = $(this).parent().find('label').text();
		var index_1 = text.indexOf("\"");
		var index_2 = text.lastIndexOf("\"");
		text = text.substring(index_1+1, index_2); 
		
		if($('input[name=cmt_ra]:checked').attr('id') == 'cmt_ra01') {
			$("#replyarea").val('');
		} else {
			$("#replyarea").val(text);
		}
	});
	
	// sns로그인 아이콘 활성화
	if('' != '') {
		$(".cmt_login > ." + '').removeClass("off");
	} else if('false' == true || 'false' == 'true') {
		$(".cmt_login > .chosun").removeClass("off");
	}
}
function selectMyReply(){
	var result = _loginCheck();

	if(result != false) {
		var frm = document.listFrm;
		frm.myComm.value = 'Y';
		frm.contid.value = '705835';
		frm.submit();	
	}
}

//댓글 새로고침
function refresh_comm(){
	var contid = '705835';
	var bbsno = '';
	var myComm = '';
	var commOrder = '';
	
	//기존 영역 비우기
	$(".reply-list").empty();
	$(".reply-more").empty();
	$.ajax({
		url:"/broadcast/commList.cstv",
		data: {bbsno: bbsno, contid: contid, comm_pn: 0, myComm: myComm, commOrder: commOrder},
		type:"POST",
		success: function(result) {
			$.each(result.commList, function(i, list) {
				var child_cnt = list.child_cnt == 0 ? "" : list.child_cnt;
				var agreecnt = list.agreecnt == 0 ? "" : list.agreecnt;
				var negativecnt = list.negativecnt == 0 ? "" : list.negativecnt;
				let li = '';
				
				if(list.delyn === 'Y' && list.child_cnt > 0){
					li = '<li>'+
		                '<div class="reply-main">'+
		                    '<div class="reply-item">'+
		                        '<div class="reply-info">'+
		                            '<div class="info">';
		                            
		                            if(list.usernm == null || list.usernm == ''){
		                            	li += list.userid;
		                            }else{
		                            	li += list.usernm;
		                            }
		                            
		                            li += '<div class="datetime">'+
		                                    '<span class="date">'+ list.indate +'</span>'+
		                                '</div>'+
		                            '</div>';

		                            li += '</div>'+
		                        '<div class="reply-cont">'+
		                            '<p>삭제된 댓글입니다.</p>'+
		                        '</div>'+
		                        '<div class="reply-count">'+
		                            '<button type="button" class="replyBtn" onclick="comm_child('+list.commid+',1)">답글' +list.child_cnt+ '개</button>'+
		                        '</div>'+
		                    '</div>'+
		                '</div>'+
		                <!-- 답글 -->
		                '<div class="reply-sub reply_area reply_'+list.commid+'">'+
							'<form id="commReplyFrm'+list.commid+'" name="commReplyFrm'+list.commid+'">'+
								'<input type="hidden" name="contid" value="'+list.contid+'"/>'+
								'<input type="hidden" name="commid" value="'+list.commid+'"/>'+ 
								'<input type="hidden" name="userid" value="'+ '' +'"/>'+
								'<input type="hidden" name="usernm" value="' + '' +'"/>'+
								'<input type="hidden" name="sns_type" value="'+ '' +'"/>'+
								'<input type="hidden" name="mode" value="insert"/>'+
								'<input type="hidden" id="commChild_pn_' + list.commid + '"  name="commChild_pn" value="' + 1 + '"/>' +
							'</form>'+
						'</div>'+
		            '</li>';
				}else if(list.delyn === 'N'){
					li = '<li>'+
		                '<div class="reply-main">'+
		                    '<div class="reply-item">'+
		                        '<div class="reply-info">'+
		                            '<div class="info">';
		                            
		                            if(list.usernm == null || list.usernm == ''){
		                            	li += list.userid;
		                            }else{
		                            	li += list.usernm;
		                            }
		                            
		                            li += '<div class="datetime">'+
		                                    '<span class="date">'+ list.indate +'</span>'+
		                                '</div>'+
		                            '</div>';
		                            
		                            if(list.unsound == 0) {
		                            	if('' === list.userid){
			                            	li += '<div class="action-btn del">'+
			                            	'<button type="button" onclick="delComm('+list.commid+')">삭제</button>'+
			                            	'</div>';
			                            }else{
			                            	li += '<div class="action-btn warning">'+
			                                '<button type="button" data-userid="'+list.userid+'" onclick="comm_unsound('+list.commid+ ',\'\',\'C\')">신고</button>'+
				                            '</div>';
			                            }
		                            }
		                            
		                            li += '</div>';
			                        
			                        if(list.unsound == 0) {
			                        	li +=
					                        '<div class="reply-cont">'+
					                            '<p>'+ list.comm +'</p>'+
					                        '</div>'+
					                        '<div class="reply-count">'+
				                            	'<button type="button" class="replyBtn" onclick="comm_child('+list.commid+',1)">답글' +list.child_cnt+ '개</button>'+
				                            	'<div class="like-box">'+
				                                	'<button id="A_'+list.commid+'" type="button" class="like ';
				                            if(list.agreeYn == 'Y'){
				                            	li += 'on ';
				                            }
				                            
				                            li += '" data-commid="' + list.commid + '" onclick="comm_agree(this, \'A\', false)">';
				                            
				                            if(list.agreecnt == 0){
				                            	li += '';
				                            }else{
				                            	li += list.agreecnt;
				                            }
				                            
				                            li += '</button>'+
											'<button id="N_'+list.commid+'"type="button" class="unlike ';
				                            
				                            if(list.negativeYn == 'Y'){
				                            	li += 'on';
				                            }
				                            
				                            li += '" data-commid="' + list.commid + '" onclick="comm_agree(this, \'N\', false)">';
				                            
				                            if(list.negativecnt == 0){
				                            	li += '';
				                            }else{
				                            	li += list.negativecnt;
				                            }
				                            
				                            li += '</button>'+
				                            '</div>'+
				                        '</div>';
			                        } else {
			                        	li +=
			                        		'<div class="reply-cont">'+
					                            '<p>신고한 댓글입니다.</p>'+
					                        '</div>'+
				                            '<div class="reply-count">'+
			                            		'<button type="button" class="replyBtn" onclick="comm_child('+list.commid+',1)">답글' +list.child_cnt+ '개</button>'+
		                            		'</div>'
			                        }
			                        li +=
		                    '</div>'+
		                '</div>'+
		                <!-- 답글 -->
		                '<div class="reply-sub reply_area reply_'+list.commid+'">'+
							'<form id="commReplyFrm'+list.commid+'" name="commReplyFrm'+list.commid+'">'+
								'<input type="hidden" name="contid" value="'+list.contid+'"/>'+
								'<input type="hidden" name="commid" value="'+list.commid+'"/>'+ 
								'<input type="hidden" name="userid" value="'+ '' +'"/>'+
								'<input type="hidden" name="usernm" value="' + '' +'"/>'+
								'<input type="hidden" name="sns_type" value="'+ '' +'"/>'+
								'<input type="hidden" name="mode" value="insert"/>'+
								'<input type="hidden" id="commChild_pn_' + list.commid + '"  name="commChild_pn" value="' + 1 + '"/>' +
							'</form>'+
						'</div>'+
		            '</li>';
				}
	            
	            $('.reply-list').append(li);
			
			});
			
			$(".reply-more").empty();
			if(result.endPage > result.comm_pn){
				var button = '<a onclick="moreCommList('+(result.comm_pn+2)+')">더보기</a>';
				$(".reply-more").append(button);
			}
		},
	    error: function(xhr, status, error) {
	        if (xhr.status === 401) {
	            // 인증 실패 또는 세션 만료 시 처리
	            alert("세션이 만료되었습니다. 다시 로그인 해주세요.");
	            window.location.href = "/loginPage"; // 로그인 페이지로 이동
	        } else {
	            console.error("AJAX 요청 오류:", status, error);
	        }
	    }
	});
}

var commChildPn = '1';

function sort_comm(commType){
	var contid = '705835';
	var bbsno = '';
	var myComm = '';
	var commOrder = commType;
	
	//기존 영역 비우기
	$(".reply-list").empty();
	$(".reply-more").empty();
	$.ajax({
		url:"/broadcast/commList.cstv",
		data: {bbsno: bbsno, contid: contid, comm_pn: 0, myComm: myComm, commOrder: commOrder},
		type:"POST",
		success: function(result) {
			$.each(result.commList, function(i, list) {
				var child_cnt = list.child_cnt == 0 ? "" : list.child_cnt;
				var agreecnt = list.agreecnt == 0 ? "" : list.agreecnt;
				var negativecnt = list.negativecnt == 0 ? "" : list.negativecnt;
				let li = '';
				
				if(list.delyn === 'Y' && list.child_cnt > 0){
					li = '<li>'+
		                '<div class="reply-main">'+
		                    '<div class="reply-item">'+
		                        '<div class="reply-info">'+
		                            '<div class="info">';
		                            
		                            if(list.usernm == null || list.usernm == ''){
		                            	li += list.userid;
		                            }else{
		                            	li += list.usernm;
		                            }
		                            
		                            li += '<div class="datetime">'+
		                                    '<span class="date">'+ list.indate +'</span>'+
		                                '</div>'+
		                            '</div>';

		                            li += '</div>'+
		                        '<div class="reply-cont">'+
		                            '<p>삭제된 댓글입니다.</p>'+
		                        '</div>'+
		                        '<div class="reply-count">'+
		                            '<button type="button" class="replyBtn" onclick="comm_child('+list.commid+',1)">답글' +list.child_cnt+ '개</button>'+
		                        '</div>'+
		                    '</div>'+
		                '</div>'+
		                <!-- 답글 -->
		                '<div class="reply-sub reply_area reply_'+list.commid+'">'+
							'<form id="commReplyFrm'+list.commid+'" name="commReplyFrm'+list.commid+'">'+
								'<input type="hidden" name="contid" value="'+list.contid+'"/>'+
								'<input type="hidden" name="commid" value="'+list.commid+'"/>'+ 
								'<input type="hidden" name="userid" value="'+ '' +'"/>'+
								'<input type="hidden" name="usernm" value="' + '' +'"/>'+
								'<input type="hidden" name="sns_type" value="'+ '' +'"/>'+
								'<input type="hidden" name="mode" value="insert"/>'+
								'<input type="hidden" id="commChild_pn_' + list.commid + '" name="commChild_pn" value="' + commChildPn + '"/>'+
							'</form>'+
						'</div>'+
		            '</li>';
				}else if(list.delyn === 'N'){
					li = '<li>'+
		                '<div class="reply-main">'+
		                    '<div class="reply-item">'+
		                        '<div class="reply-info">'+
		                            '<div class="info">';
		                            
		                            if(list.usernm == null || list.usernm == ''){
		                            	li += list.userid;
		                            }else{
		                            	li += list.usernm;
		                            }
		                            
		                            li += '<div class="datetime">'+
		                                    '<span class="date">'+ list.indate +'</span>'+
		                                '</div>'+
		                            '</div>';
		                            
		                            if(list.unsound == 0) {
		                            	if('' === list.userid){
			                            	li += '<div class="action-btn del">'+
			                            	'<button type="button" onclick="delComm('+list.commid+')">삭제</button>'+
			                            	'</div>';
			                            }else{
			                            	li += '<div class="action-btn warning">'+
			                                '<button type="button" data-userid="'+list.userid+'" onclick="comm_unsound('+list.commid+ ',\'\',\'C\')">신고</button>'+
				                            '</div>';
			                            }
		                            }
		                            
		                            li += '</div>';
			                        
			                        if(list.unsound == 0) {
			                        	li +=
					                        '<div class="reply-cont">'+
					                            '<p>'+ list.comm +'</p>'+
					                        '</div>'+
					                        '<div class="reply-count">'+
				                            	'<button type="button" class="replyBtn" onclick="comm_child('+list.commid+',1)">답글' +list.child_cnt+ '개</button>'+
				                            	'<div class="like-box">'+
				                                	'<button id="A_'+list.commid+'" type="button" class="like ';
				                            if(list.agreeYn == 'Y'){
				                            	li += 'on ';
				                            }
				                            
				                            li += '" data-commid="' + list.commid + '" onclick="comm_agree(this, \'A\', false)">';
				                            
				                            if(list.agreecnt == 0){
				                            	li += '';
				                            }else{
				                            	li += list.agreecnt;
				                            }
				                            
				                            li += '</button>'+
											'<button id="N_'+list.commid+'"type="button" class="unlike ';
				                            
				                            if(list.negativeYn == 'Y'){
				                            	li += 'on';
				                            }
				                            
				                            li += '" data-commid="' + list.commid + '" onclick="comm_agree(this, \'N\', false)">';
				                            
				                            if(list.negativecnt == 0){
				                            	li += '';
				                            }else{
				                            	li += list.negativecnt;
				                            }
				                            
				                            li += '</button>'+
				                            '</div>'+
				                        '</div>';
			                        } else {
			                        	li +=
			                        		'<div class="reply-cont">'+
					                            '<p>신고한 댓글입니다.</p>'+
					                        '</div>'+
				                            '<div class="reply-count">'+
			                            		'<button type="button" class="replyBtn" onclick="comm_child('+list.commid+',1)">답글' +list.child_cnt+ '개</button>'+
		                            		'</div>'
			                        }
			                        li +=
		                    '</div>'+
		                '</div>'+
		                <!-- 답글 -->
		                '<div class="reply-sub reply_area reply_'+list.commid+'">'+
							'<form id="commReplyFrm'+list.commid+'" name="commReplyFrm'+list.commid+'">'+
								'<input type="hidden" name="contid" value="'+list.contid+'"/>'+
								'<input type="hidden" name="commid" value="'+list.commid+'"/>'+ 
								'<input type="hidden" name="userid" value="'+ '' +'"/>'+
								'<input type="hidden" name="usernm" value="' + '' +'"/>'+
								'<input type="hidden" name="sns_type" value="'+ '' +'"/>'+
								'<input type="hidden" name="mode" value="insert"/>'+
								'<input type="hidden" id="commChild_pn_' + list.commid + '"  name="commChild_pn" value="' + 1 + '"/>' +
							'</form>'+
						'</div>'+
		            '</li>';
				}
	            
	            $('.reply-list').append(li);
			
			});
			
			$(".reply-more").empty();
			if(result.endPage > result.comm_pn){
				var button = '<a onclick="moreCommList('+(result.comm_pn+2)+')">더보기</a>';
				$(".reply-more").append(button);
			}

			//최신순, 추천순
			if(commOrder == 'newCom') {
				$(".comm-tab li.new").addClass('active');
				$(".comm-tab li.agree").removeClass('active');
			} else if(commOrder == 'mostRecomm') {
				$(".comm-tab li.new").removeClass('active');
				$(".comm-tab li.agree").addClass('active');
			}
		},
	    error: function(xhr, status, error) {
	        if (xhr.status === 401) {
	            // 인증 실패 또는 세션 만료 시 처리
	            alert("세션이 만료되었습니다. 다시 로그인 해주세요.");
	            window.location.href = "/loginPage"; // 로그인 페이지로 이동
	        } else {
	            console.error("AJAX 요청 오류:", status, error);
	        }
	    }
	});
	return false;
}

// 버튼 업데이트 함수
function updateButton(type, id, increment) {
    const button = document.getElementById(type + "_" + id);
    let buttonText = button.textContent.trim() || "0";
    let newValue = Number(buttonText) + increment;

    if (newValue <= 0) {
        button.textContent = ""; // 음수는 공백
    } else if (newValue > 9999) {
        button.textContent = "+9999"; // 9999 초과
    } else {
        button.textContent = newValue; // 정상 범위
    }
}

//AJAX 요청 함수 (Promise 반환)
function sendAjax(url, data) {
    return new Promise((resolve, reject) => {
        $.ajax({
            url: url,
            type: "POST",
            data: data,
            success: resolve,
            error: function () {
                alert("요청 중 문제가 발생했습니다.");
                reject(new Error("AJAX 요청 실패"));
            }
        });
    });
}

function comm_agree(btn, agree, child, child_id){
	var result = false;
	if (!result) {
		alert("로그인이 필요합니다.");
        return;
    }
	
	var type = agree;
	var commid = $(btn).data('commid');
	var contid = '';
	var bbsno = '';
	var like = $(btn).closest('.like-box').find('.like');
    var unlike = $(btn).closest('.like-box').find('.unlike');
	
    var isChecked = (agree == 'A' && like.hasClass("on")) || (agree == 'N' && unlike.hasClass("on"));
    var oppositeChecked = (agree === 'A' && unlike.hasClass("on")) || (agree === 'N' && like.hasClass("on"));
    
    var param = {
    	type: type,
    	commid: commid,
    	contid: contid,
    	bbsno: bbsno,
    	checked: isChecked,
        oppositeChecked: oppositeChecked
    }
    
    var url ="";
    if(!child) {
    	url = "/broadcast/insertAgree.cstv";
    }else {
    	url = "/broadcast/insertChildAgree.cstv";
    	param.child_id = $(btn).data('child-id');
    }
    
	$.ajax({
		url : url,
		type : "POST",
		data : param,
		success : function(data){
			console.log(data.result)
			if (!isChecked) {
		        if (agree == 'A') {
		            like.addClass("on");
		            unlike.removeClass("on");
		        } else if (agree == 'N') {
		            unlike.addClass("on");
		            like.removeClass("on");
		        }
		    } else {
		        if (agree == 'A') {
		            like.removeClass("on");
		        } else if (agree == 'N') {
		            unlike.removeClass("on");
		        }
		    }
			
			like.text(data.result.agreecnt);
			unlike.text(data.result.negativecnt);
		}
	});
}

/* async function comm_child_agree(commid, agree, childId){
	var result = _loginCheck();

	if(result != false) {
		var type = agree;
		var commid = commid;
		var contid = '705835';
		var bbsno = '';
		
		//답글
		try {
			const result = await sendAjax("/broadcast/selectAgreeCntChild.cstv", {type: type, commid: commid, contid: contid, bbsno: bbsno, child_id: childId});
			if (result.cnt === 0) {
                const data = await sendAjax("/broadcast/insertAgreeChild.cstv", {type: type, commid: commid, contid: contid, bbsno: bbsno, delyn: 'N', child_id: childId});
                if (String(data.result) === '1') {
                    updateButton(type, childId, 1);

                    if (data.type === 'A') {
                        $("#A_" + childId).addClass('on');
                    } else if (data.type === 'N') {
                        $("#N_" + childId).addClass('on');
                    }
                }
            } else if (result.cnt > 0) {
                // 찬성/반대 취소
                let chgType = '';
                if (type === 'A') {
                    chgType = 'N';
                } else {
                    chgType = 'A';
                }

                // 타입 다른 경우
                if (result.type !== type) {
                    const data = await sendAjax("/broadcast/insertAgreeChild.cstv", {type: type, commid: commid, contid: contid, bbsno: bbsno, delyn: 'N', child_id: childId});
                    if (String(data.result) === '1') {
                        updateButton(type, childId, 1);
                    }
                } else {
                    chgType = type;
                }

                await sendAjax("/broadcast/insertAgreeChild.cstv", {type: chgType, commid: commid, contid: contid, bbsno: bbsno, delyn: 'Y', child_id: childId});
                updateButton(chgType, childId, -1);

                if (type == chgType) {
                    $("#" + type + "_" + childId).removeClass('on');
                } else {
                    $("#" + type + "_" + childId).addClass('on');
                    $("#" + chgType + "_" + childId).removeClass('on');
                }
            } else {
                alert("실패하였습니다.");
            }
		} catch (error){
			console.error("Error during AJAX calls:", error);
		}
	}
} */

function delComm(commid){
	var commid = commid;
	var contid = '705835';
	var bbsno = '';
	
	if(confirm("삭제하시겠습니까?")){
		$.ajax({
			url : "/broadcast/deleteComm.cstv",
			type : "POST",
			data : {commid: commid, contid: contid, bbsno: bbsno, mode: "del", type: "preview"},
			success : function(data){
				if(data.result == '1'){
					alert("삭제되었습니다.");
					view('705835');
				} else{
					alert("삭제 실패하였습니다.");	
				}
			}
		});
	}
}

//신고하기 팝업
function comm_unsound(commid, child_id, type){
	var result = _loginCheck();
	
	// 버튼 요소 가져오기 (예: this를 통해 호출된 요소를 참조)
    const buttonElement = event.currentTarget; 
    
    // data-userid 값 가져오기
    const userId = buttonElement.getAttribute('data-userid');
    
	if(result != false) {
		if(type != "B") {
			$('#only_comm_unsound').children().remove();
			
			var input = '<input type="hidden" name="commID" id="unsound_commid" value="'+commid+'" />\
				<input type="hidden" name="childID" id="unsound_childid" value="'+child_id+'" />';
			$('#only_comm_unsound').append(input);
			$("#block_user_id").val(userId);
		}else{
			$("#block_user_id").val('zero9712');
		}
		$("#cmt_type").val(type);
		
		$.ajax({
			url : "/broadcast/unsoundPopup.cstv",
			type : "POST",
			data : $('form[name=unsoundFrm]').serialize(),
			success : function(data){
				if(data.result) {
					if(data.cnt == '0'){
						//popupRule();
						uiFn.layerPopup('#reportPopup');
					} else {
						alert("이미 신고하였습니다.");
					}
				} else {
					alert(data.msg);
				}
			}
		});	
	}
}

//신고하기-확인
function unsound_save(){
	if($("#unregi-reason option:selected").val() == "r0") {
		alert("신고 사유를 선택해주세요.");
		return;
	}
	
	$.ajax({
		url : "/broadcast/insertUnsound.cstv",
		type : "POST",
		data : $('form[name=unsoundFrm]').serialize(),
		success : function(data){
			if(data.result) {
				if(data.cnt == '0'){
					alert("이미 신고하였습니다.");
				} else {
					alert("신고하였습니다.");

					if($("#block_user_id").val() != 'zero9712' && $("#cmt_type").val() == 'C'){
						view('705835');
					}else{
						window.location = `/broadcast/program/2/C202500100/bbs/11600/C202500100_7/list.cstv?search_text=`;
					}
					location.reload();
				}
			} else {
				alert(data.msg);
			}
		}
	});
}

function btn_save() {	
	var result = _loginCheck();

	if(result != false) {
		var crm_is_writable = '';
		
		if(crm_is_writable == "N"){
			alert("실명인증 후 사용 가능합니다.");
			return;
		}
		
		if($("#replyarea").val() == ''){
			alert("댓글 내용을 입력하세요.");
			return;
		}

		$.ajax({
			url : '/broadcast/insertComm.cstv',
			type : 'post',
			data : $('form[name=replyFrm]').serialize(),
			success : function(data){
				if(data.result > 0){
					alert("댓글이 등록되었습니다.");
					if(data.reply_facebook == 'Y'){
						send_facebook();
					}
					window.location.href = '/broadcast/program/2/C202500100/bbs/11600/C202500100_7/705835.cstv?tabType=reply';
				} else{
					alert(data.msg);
				}
			}, error:function(e){
				alert(e);
			}
		});
		
		return false;
	}
}

//댓글 더보기
function moreCommList(comm_pn){
	var contid = '705835';
	var bbsno = '';
	var myComm = '';
	var commOrder = '';
	
	$.ajax({
		url:"/broadcast/commList.cstv",
		data: {bbsno: bbsno, contid: contid, comm_pn: comm_pn, myComm: myComm, commOrder: commOrder},
		type:"POST",
		success: function(result) {
			$.each(result.commList, function(i, list) {
				var child_cnt = list.child_cnt == 0 ? "" : list.child_cnt;
				var agreecnt = list.agreecnt == 0 ? "" : list.agreecnt;
				var negativecnt = list.negativecnt == 0 ? "" : list.negativecnt;
				let li = '';
				
				if(list.delyn === 'Y' && list.child_cnt > 0){
					li = '<li>'+
		                '<div class="reply-main">'+
		                    '<div class="reply-item">'+
		                        '<div class="reply-info">'+
		                            '<div class="info">';
		                            if(list.usernm == null || list.usernm == ''){
		                            	li += list.userid;
		                            }else{
		                            	li += list.usernm;
		                            }
		                            li += '<div class="datetime">'+
		                                    '<span class="date">'+ list.indate +'</span>'+
		                                '</div>'+
		                            '</div>';
		                        li += '</div>'+
		                        '<div class="reply-cont">'+
		                            '<p>삭제된 댓글입니다.</p>'+
		                        '</div>'+
		                        '<div class="reply-count">'+
		                            '<button type="button" class="replyBtn" onclick="comm_child('+list.commid+',1)">답글' +list.child_cnt+ '개</button>'+
		                        '</div>'+
		                    '</div>'+
		                '</div>'+
		                <!-- 답글 -->
		                '<div class="reply-sub reply_area reply_'+list.commid+'">'+
							'<form id="commReplyFrm'+list.commid+'" name="commReplyFrm'+list.commid+'">'+
								'<input type="hidden" name="contid" value="'+list.contid+'"/>'+
								'<input type="hidden" name="commid" value="'+list.commid+'"/>'+ 
								'<input type="hidden" name="userid" value="'+ '' +'"/>'+
								'<input type="hidden" name="usernm" value="' + '' +'"/>'+
								'<input type="hidden" name="sns_type" value="'+ '' +'"/>'+
								'<input type="hidden" name="mode" value="insert"/>'+
								'<input type="hidden" id="commChild_pn_' + list.commid + '"  name="commChild_pn" value="' + 1 + '"/>' +
							'</form>'+
						'</div>'+
		            '</li>';
				}else if(list.delyn === 'N'){
					li = '<li>'+
		                '<div class="reply-main">'+
		                    '<div class="reply-item">'+
		                        '<div class="reply-info">'+
		                            '<div class="info">';
		                            
		                            if(list.usernm == null || list.usernm == ''){
		                            	li += list.userid;
		                            }else{
		                            	li += list.usernm;
		                            }
		                            
		                            li += '<div class="datetime">'+
		                                    '<span class="date">'+ list.indate +'</span>'+
		                                '</div>'+
		                            '</div>';
		                            
		                            if('' === list.userid){
		                            	li += '<div class="action-btn del">'+
		                            	'<button type="button" onclick="delComm('+list.commid+')">삭제</button>'+
		                            	'</div>';
		                            }else{
		                            	li += '<div class="action-btn warning">'+
		                                '<button type="button" data-userid="'+list.userid+'" onclick="comm_unsound('+list.commid+ ',\'\',\'C\')">신고</button>'+
			                            '</div>';
		                            }
		                            
		                        li += '</div>'+
		                        '<div class="reply-cont">';
		                        if(list.unsound > 0){
		                        	li += '<p>신고한 댓글입니다.</p>';
		                        }else{
		                        	li += '<p>'+ list.comm +'</p>';
		                        }
		                        li += '</div>'+
		                        '<div class="reply-count">'+
		                            '<button type="button" class="replyBtn" onclick="comm_child('+list.commid+',1)">답글' +list.child_cnt+ '개</button>'+
		                            '<div class="like-box">'+
		                                '<button id="A_'+list.commid+'" type="button" class="like ';
		                            if(list.agreeYn == 'Y'){
		                            	li += 'on ';
		                            }
		                            
		                            li += '" data-commid="' + list.commid + '" onclick="comm_agree(this, \'A\', false)">';
		                            
		                            if(list.agreecnt == 0){
		                            	li += '';
		                            }else{
		                            	li += list.agreecnt;
		                            }
		                            
		                            li += '</button>'+
		                                '<button id="N_'+list.commid+'"type="button" class="unlike ';
		                            
		                            if(list.negativeYn == 'Y'){
		                            	li += 'on';
		                            }
		                            
		                            li += '" data-commid="' + list.commid + '" onclick="comm_agree(this, \'N\', false)">';
		                            
		                            if(list.negativecnt == 0){
		                            	li += '';
		                            }else{
		                            	li += list.negativecnt;
		                            }
		                            
		                            li += '</button>'+
		                            '</div>'+
		                        '</div>'+
		                    '</div>'+
		                '</div>'+
		                <!-- 답글 -->
		                '<div class="reply-sub reply_area reply_'+list.commid+'">'+
							'<form id="commReplyFrm'+list.commid+'" name="commReplyFrm'+list.commid+'">'+
								'<input type="hidden" name="contid" value="'+list.contid+'"/>'+
								'<input type="hidden" name="commid" value="'+list.commid+'"/>'+ 
								'<input type="hidden" name="userid" value="'+ '' +'"/>'+
								'<input type="hidden" name="usernm" value="' + '' +'"/>'+
								'<input type="hidden" name="sns_type" value="'+ '' +'"/>'+
								'<input type="hidden" name="mode" value="insert"/>'+
								'<input type="hidden" id="commChild_pn_' + list.commid + '"  name="commChild_pn" value="' + 1 + '"/>' +
							'</form>'+
						'</div>'+
		            '</li>';
				}
				
	            
	            $('.reply-list').append(li);
			
			});
			
			$(".reply-more").empty();
			if(result.endPage > result.comm_pn){
				var button = '<a onclick="moreCommList('+(result.comm_pn+1)+')">더보기</a>';
				$(".reply-more").append(button);
			}
		},
	    error: function(xhr, status, error) {
	        if (xhr.status === 401) {
	            // 인증 실패 또는 세션 만료 시 처리
	            alert("세션이 만료되었습니다. 다시 로그인 해주세요.");
	            window.location.href = "/loginPage"; // 로그인 페이지로 이동
	        } else {
	            console.error("AJAX 요청 오류:", status, error);
	        }
	    }
	});
}

function comm_child(commid, commChild_pn){
	if(!$(".reply_"+commid).hasClass("init")) {
		$(".reply_"+commid).addClass("init");
		init_comm_child(commid, commChild_pn);
	}
	
	if($(".reply_"+commid).hasClass("open")) {
		$(".reply_"+commid).removeClass("open");
		$(".reply_"+commid).css("display","none");
	} else {
		$(".reply_"+commid).addClass("open");
		$(".reply_"+commid).css("display","");
	}		
}
function init_comm_child(commid, commChild_pn) {
	let flag = false;
	$.ajax({
		url : "/broadcast/commChildList.cstv",
		type : "POST",
		data : $('form[name=commReplyFrm'+commid+']').serialize() + '&commChild_pn=' + commChild_pn,
		success: function(result) {
			let html = '';
			
			$('#commReplyFrm'+result.commid).append(html);
			
			$.each(result.commChildList, function(i, list) {
			    $("#child_id").val(list.child_id);
			    
			    let userNm = list.usernm == null || list.usernm == '' ? list.userid : list.usernm;

			    let html = 
			        '<div class="reply-item">' +
			            '<div class="reply-info">' +
			                '<div class="info">'+
			                    '<p class="name">'+ userNm +'</p>'+
			                    '<div class="datetime">'+
			                        '<span class="date">'+ list.indate +'</span>'+
			                    '</div>'+
			                '</div>';
			    
			    // 삭제 및 신고 버튼 (본인: 삭제, 타인: 신고)
			    if (list.unsound == 0) {
			        if ("" === list.userid) {
			            html += 
			                '<div class="action-btn del">'+
			                    '<button type="button" onclick="delCommChild('+ list.child_id +', '+ commid +')">삭제</button>'+
			                '</div>';
			        } else {
			            html += 
			                '<div class="action-btn warning">'+
			                    '<button type="button" data-userid="'+list.userid+'" onclick="comm_unsound('+ list.commid +', '+ list.child_id +', \'D\')">신고</button>'+
			                '</div>';
			        }
			    }
			    
			    html += '</div>'; // reply-info 닫기

			    // 댓글 본문
			    if (list.unsound == 0) {
			        html += 
			            '<div class="reply-cont">'+
			                '<p>'+ list.comm +'</p>'+
			            '</div>'+
			            '<div class="reply-count">'+
			                '<div class="like-box">';

			        // 좋아요 버튼
			        html += '<button id="A_'+ list.child_id +'" type="button" class="like';
			        if (list.agreeYn === 'Y') {
			            html += ' on';
			        }
			        html += 'data-child-id="' + list.child_id + '" '  + 'onclick="comm_agree(this, \'A\', true)">'
			        html += (list.agreecnt > 0 ? list.agreecnt : '') + '</button>';

			        // 싫어요 버튼
			        html += '<button id="N_'+ list.child_id +'" type="button" class="unlike';
			        if (list.negativeYn === 'Y') {
			            html += ' on';
			        }
			        html += 'data-child-id="' + list.child_id + '" '  + 'onclick="comm_agree(this, \'N\', true)">'
			        html += (list.negativecnt > 0 ? list.negativecnt : '') + '</button>';

			        html += '</div></div>'; // like-box 및 reply-count 닫기

			    } else {
			        // 신고된 댓글 표시
			        html += 
			            '<div class="reply-cont">'+
			                '<p>신고한 댓글입니다.</p>'+
			            '</div>';
			    }

			    html += '</div>'; // reply-item 닫기

			    $(".reply_" + list.commid).append(html);
			});
			
			//더보기, 답글 달기
			$(".reply-more" + result.commid).empty();
			if(result.endPage > result.commChild_pn){
				var button = '<div class="reply-more reply-more'+result.commid+'">'+
	            				'<a href="javascript:;" onclick="moreCommChildList('+result.commid+','+ (result.commChild_pn+1) +' )">답글 더보기</a>'+
		        			'</div>';
				$(".reply_" + commid).append(button);
			}
			
			html = '<div class="reply-write">'+
			            '<div class="form-box">'+
			                '<div class="input-box">'+
 			                    '<div class="length-item btm">'+
 			                     '<div class="textarea-wrap">'+
				                        '<textarea type="textarea" name="comm" id="replyarea'+commid+'" onkeyup="textareaLength(100, `replyarea'+commid+'`, `reply'+commid+'`)" onblur="textareaLength(100, `replyarea'+commid+'`, `reply'+commid+'`)" placeholder="답글을 입력해주세요" value="" maxlength="100" class="form-ele"></textarea>'+
				                        '<div class="textLengthCheck">'+
				                            '<p><strong id="reply'+commid+'">0</strong> / 100</p>'+
				                            '<button onclick="commChild_insert('+commid+');" id="btnReg" type="button" class="btn small">등록</button>'+
				                        '</div>'+
			                        '</div>'+
			                    '</div>'+
			                '</div>'+
			            '</div>';
	         //답글 접기
	           html += '<div class="reply-less">'+
	           '<a href="javascript:;" onclick="itemFn.replyOpen(this);">답글 접기</a>'+
	           '</div>';

			$(".reply_" + commid).append(html);
			
			/* if(result.commChildList.length == 0){
				html = '<div class="null-content reply">'+
		            '<p class="desc">첫 번째 답글을 남겨주세요</p>'+
		        	'</div>';
		        $(".reply_" + result.commid).append(html);
			} */
		}
	});
}
//댓글 답글 입력
function commChild_insert(commid){
	var result = _loginCheck();

	if(result != false) {
		var crm_is_writable = '';
		
		if(crm_is_writable == "N"){
			alert("실명인증 후 사용 가능합니다.");
			return;
		}
		
		var text = $("#replyarea" + commid).val();
		var length = text.length;
		var max = 100;
		if(length == 0){
			alert("답글 내용을 입력하세요.");
			return;
		} else if(length > max){
			$("#replyarea" + commid).val(text.substring(0,max));
			alert(max +'자 이내로 작성해주세요');
			return;
		}
		
		let sendDataArray = $('#commReplyFrm' + commid).serializeArray();
		let sendData = {};
		sendDataArray.forEach(item => {
		    sendData[item.name] = item.value;
		});
		sendData.comm = text; // comm 추가
		
		$.ajax({
			url : "/broadcast/insertCommChild.cstv",
			type : "POST",
			data : sendData,
			success : function(data){
				if(data.result == '1'){
					alert("등록되었습니다.");
					view('705835');
				} else {
					alert(data.msg);
				}
			}
		});	
	}
}
function delCommChild(child_id, commid){
	var commid = commid;
	var contid = '705835';
	var bbsno = '';
	
	if(confirm("삭제하시겠습니까?")){
		$.ajax({
			url : "/broadcast/deleteCommChild.cstv",
			type : "POST",
			data : {child_id: child_id, commid: commid, contid: contid, bbsno: bbsno, mode: "del"},
			success : function(data){
				if(data.result == '1'){
					alert("삭제되었습니다.");
					view('705835');
				} else{
					alert("삭제 실패하였습니다.");	
				}
			}
		});
	}
}
function moreCommChildList(commid, commChild_pn){
	$("#commChild_pn_" + commid).val(commChild_pn);
	$.ajax({
		url : "/broadcast/commChildList.cstv",
		type : "POST",
		data : $('form[name=commReplyFrm'+commid+']').serialize(),
		success: function(result) {
			$.each(result.commChildList, function(i, list) {
				$("#child_id").val(list.child_id);
				
				let userNm = '';
				
				if(list.usernm == null || list.usernm == '') {
					userNm = list.userid;
				} else {
					userNm = list.usernm;
				}
				
				let html = '<div class="reply-item">' +
		    			'<div class="reply-info">' +
		    			'<div class="info">'+
		            	'<p class="name">'+userNm+'</p>'+
		                    '<div class="datetime">'+
		                        '<span class="date">'+list.indate+'</span>'+
		                    '</div>'+
		                '</div>';
		                if("" === list.userid){
		    				html += '<div class="action-btn del">'+
		                			'<button type="button" onclick="delCommChild('+list.child_id+', '+commid+')">삭제</button>'+
		                    		'</div>';
		    			}else{
		    				html += '<div class="action-btn warning">'+
		                    "<button type='button' onclick='uiFn.layerPopup(`#reportPopup`);'>신고</button>"+
		                	'</div>';
		    			} 
		              html +=  '</div>'+
		            '<div class="reply-cont">'+
		                '<p>'+list.comm+'</p>'+
		            '</div>'+
		            '<div class="reply-count">'+
		                '<div class="like-box">'+
		                '<button id="A_'+list.child_id+'"type="button" class="like';
		                if(list.agreeYn === 'Y'){
		                	html+= ' on';
		                }
	                        
		                html += 'data-child-id="' + list.child_id + '" '  + 'onclick="comm_agree(this, \'A\', true)">'
                      
	                	if(list.agreecnt != 0){
	                		html += list.agreecnt;
	                	}else{
	                		html += '';
	                	}
                      html += '</button>'+
 	                    '<button id="N_'+list.child_id+'"type="button" class="unlike';
                      if(list.negativeYn === 'Y'){
		                	html+= ' on';
		                }
 	                    
                      html += 'data-child-id="' + list.child_id + '" '  + 'onclick="comm_agree(this, \'N\', true)">'
 	                    if(list.negativecnt != 0){
	                		html += list.negativecnt;
	                	}else{
	                		html += '';
	                	}
 	                    html += '</button>'+
		                '</div>'+
		            '</div>'+
		        '</div>';
		
				$(".reply_" + list.commid).append(html);
			});

			//더보기, 답글
			$(".reply-more"+commid+"").remove();
			$(".reply_"+commid+" .reply-write").remove();

			$(".reply-more" + result.commid).empty();
			if(result.endPage > result.commChild_pn){
				var button = '<div class="reply-more reply-more'+result.commid+'">'+
	            				'<a href="javascript:;" onclick="moreCommChildList('+result.commid+','+(result.commChild_pn+1)+' )">답글 더보기</a>'+
		        			'</div>';
				$(".reply_" + commid).append(button);
			}
			
			html = '<div class="reply-write">'+
            '<div class="form-box">'+
                '<div class="input-box">'+
	                    '<div class="length-item btm">'+
		                    '<div class="textarea-wrap">'+
	                        '<textarea type="textarea" name="comm" id="replyarea'+commid+'" onkeyup="textareaLength(100, `replyarea'+commid+'`, `reply'+commid+'`)" onblur="textareaLength(100, `replyarea'+commid+'`, `reply'+commid+'`)" placeholder="답글을 입력해주세요" value="" maxlength="100" class="form-ele"></textarea>'+
	                        '<div class="textLengthCheck">'+
	                            '<p><strong id="reply'+commid+'">0</strong> / 100</p>'+
	                            '<button onclick="commChild_insert('+commid+');" id="btnReg" type="button" class="btn small">등록</button>'+
	                        '</div>'+
                        '</div>'+    
                    '</div>'+
                '</div>'+
            '</div>';
            
            //답글 접기
            html += '<div class="reply-less">'+
            '<a href="javascript:;" onclick="itemFn.replyOpen(this);">답글 접기</a>'+
            '</div>';

			$(".reply_" + commid).append(html);
		}
	});
}
function view(contid){
	var frm = document.listFrm;
	frm.contid.value = contid;
	frm.bbsno.value = '';
	frm.submit();
}

function textareaLength(max, areaId, id) {
	var text = $('#'+id).val();
	//var length = text.length;
	var length = $('#'+areaId).val().length;		
	// 댓글 지우기 댓글을 입력할 때 활성화	
	if(length > 0) {
		//$(".btn_dotum").css("display", "block");
		$("#"+areaId).parent(".textarea-wrap").find("button").addClass("active");
	} else {
		//$(".btn_dotum").css("display", "none");
		$("#"+areaId).parent(".textarea-wrap").find("button").removeClass("active");
	}
	
	if(length > max){
		$('#'+areaId).val(text.substring(0,max));
		alert(max +'자 이내로 작성해주세요');
	}
	$('#'+id).text($('#'+areaId).val().length);
}

function text_del(id) {
	$('#replyarea').val('');
	textareaLength(100);
}


function loginPageReturn(type){
	var returl = location.href;
	returl = returl.replace("&f=y", "");
	
	if(type == 'google') {
		location.href="//member.tvchosun.com/social/google.cstv?returl="+encodeURIComponent(returl);
	} else if(type == 'naver') {
		location.href="//member.tvchosun.com/social/naver.cstv?returl="+encodeURIComponent(returl);
	} else if(type == 'kakao') {
		location.href="//member.tvchosun.com/social/kakao.cstv?returl="+encodeURIComponent(returl);
	} else if(type == 'facebook') {
		location.href="//member.tvchosun.com/social/facebook.cstv?returl="+encodeURIComponent(returl);
	} else { // tvchosun
		location.href="//member.tvchosun.com/login.cstv?returl="+encodeURIComponent(returl);	
	}
	
	return false;
}
function _loginCheck() {
	var loginCheck = 'false';
	var social = '';
	
	if((loginCheck == 'false' && social == '') || (loginCheck == false && social == '')){
		if(confirm("로그인 하신 후 이용하실 수 있습니다.\n\n로그인 페이지로 이동합니다.")){
			loginPageReturn();		
		}
		return false;
	}else if((loginCheck == 'false' && social != '') || (loginCheck == false && social != '')){
		//간편로그인
		if(confirm("로그인 후 이용 가능합니다.\n로그인 하시겠습니까?")){
			loginPageReturn('tvchosun');
		}
		return false;
	}
	return true;
}


function send_facebook() {
	var curUrl = location.protocol + "//" + location.hostname + "" + (location.port!="" ? ":"+location.port : "") + location.pathname+location.search;
	curUrl = curUrl.replace("&f=y", "");
	curUrl = encodeURIComponent(curUrl);
	FB.init({appId: "537297732963876", status: true, cookie: true, version:"v2.6"});
	var desc = $("#replyarea").val();	
	var obj = {
        method : 'feed',
        link : decodeURIComponent(curUrl),
        /* picture : thumb,
        name : titl, */
        caption : '',
        description : desc};
	FB.ui(obj);
}


/*///////////////////////////////////////////////////////////   댓글    ///////////////////////////////////////////////// */

/*///////////////////////////////////////////////////////////   sns 공유    ///////////////////////////////////////////////// */
function sns_event() {
	var curUrl = location.protocol + "//" + location.hostname + "" + (location.port!="" ? ":"+location.port : "") + location.pathname+location.search;
	curUrl = curUrl.replace("&f=y", "");
	curUrl = encodeURIComponent(curUrl);
	$("#mail").on("click", function(){
		var loginCheck = 'false';		
		if(loginCheck == 'false' || loginCheck == false){
			if(confirm("TV CHOSUN 회원 로그인 하신 후 이용하실 수 있습니다.\n\n로그인 페이지로 이동합니다.")){
				loginPageReturn('tvchosun');		
			}
			return false;
		}

		var title = $("#viewTitle").text();
		var userNm = '';
		var content = curUrl;
		
		$("#mail").attr("href","mailto:"+userNm+"?subject="+title+"&body="+content);
		$("#mail").submit();
	});
	
	$("#facebook").click(function(event) {
		var loginCheck = 'false';		
		if(loginCheck == 'false' || loginCheck == false){
			if(confirm("TV CHOSUN 회원 로그인 하신 후 이용하실 수 있습니다.\n\n로그인 페이지로 이동합니다.")){
				loginPageReturn('tvchosun');		
			}
			return false;
		}
		FB.init({appId: "537297732963876", status: true, cookie: true, version:"v2.6"});
		var _file_name = '';
		var _file_path = '';
		
		if (_file_name != '') {
			_file_path = "";
		} else if ("" != '') {
			_file_name = "";
			_file_path = "";
		}
		
		var titl = $('#viewTitle').text();
		/*var thumb ='';
		if(_file_name !='' && _file_path !=''){
			thumb = location.protocol + '//test.tvchosun.com/data/'+_file_path+_file_name;
		}*/
		var desc ;
		if($(this).attr("id") == "facebook"){
			desc = $("#content").html();
			var start = desc.search(/<( )*?script( )*?([^>])*?>/gi);
			var end = desc.search(/<\/script( )*?([^>])*?>/gi);
			desc = desc.replace(desc.substring(start, end), "");
			desc = desc.replace(/<( )*?(\/*)( )*?script( )*?([^>])*?>/gi, "");
			desc = desc.replace(/<br>/ig, ""); 
			desc = $(desc).text();
			
			desc = desc.replace("광고 건너뛰기 >>", "");
			desc = desc.replace("Ctrl+C를 누르시면 URL이 복사됩니다.", "");
		} else {
			desc = $("#comm").text();			
		}
	
		var obj = {
	        method : 'feed',
	        link : decodeURIComponent(curUrl),
	        //picture : thumb,
	        name : titl,
	        caption : '',
	        description : desc};
		FB.ui(obj);
	});
	
	$("#twitter").on("click", function() {
		var loginCheck = 'false';		
		if(loginCheck == 'false' || loginCheck == false){
			if(confirm("TV CHOSUN 회원 로그인 하신 후 이용하실 수 있습니다.\n\n로그인 페이지로 이동합니다.")){
				loginPageReturn('tvchosun');		
			}
			return false;
		}
		var titl = $('#viewTitle').text();
		titl = titl.replace (/'/gi,"´");
		titl = titl.replace (/"/gi,"˝");
		titl = encodeURIComponent(titl);
		var url = location.protocol + "//twitter.com/share?text=" + titl + "&url=" + curUrl;
		window.open(url, 400, 400, 'yes');
		//popup(url, 800, 400, 'auto', 'auto', 'no');
	});
}
function copy_to_clipboard() {
	var curUrl = location.protocol + "//" + location.hostname + "" + (location.port!="" ? ":"+location.port : "") + location.pathname+location.search;
	curUrl = curUrl.replace("&f=y", "");
	//curUrl = encodeURIComponent(curUrl);
  if( is_ie() ) {
    window.clipboardData.setData("Text", curUrl);
    alert("복사되었습니다.");
    return;
  }
  prompt("Ctrl+C를 눌러 복사하세요.", curUrl);
}
function is_ie() {
	if(navigator.userAgent.toLowerCase().indexOf("chrome") != -1) return false;
	if(navigator.userAgent.toLowerCase().indexOf("msie") != -1) return true;
	if(navigator.userAgent.toLowerCase().indexOf("windows nt") != -1) return true;
	return false;
}

function popupRule(){
	var type = $("#cmt_type").val() != null ? $("#cmt_type").val() : "";
	var bbsNo = $("#unsound_bbsno").val() != null ? $("#unsound_bbsno").val() : "";
	var contid = $("#unsound_contid").val() != null ? $("#unsound_contid").val() : "";
	var commid = $("#unsound_commid").val() != null ? $("#unsound_commid").val() : "";
	var childid = $("#unsound_childid").val() != null ? $("#unsound_childid").val() : "";
		
	var specs = "width=500, height=520";
	specs += ",toolbar=no,menubar=no,status=no,scrollbars=no,resizable=no";
	window.open("/broadcast/popup/unsound.cstv?type="+type+"&bbsNo="+bbsNo+"&contid="+contid+"&commid="+commid+"&childid="+childid, "", specs);
}

function loginPageReturn(){
	var returl = location.href;
	returl = returl.replace("&f=y", "");
	location.href="//member.tvchosun.com/login.cstv?returl="+encodeURIComponent(returl);
	return;
}

</script>
</html>